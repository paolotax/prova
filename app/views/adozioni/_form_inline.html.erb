<%= form_with model: adozione, class: "rounded-xl border-4 my-2 border-gray-600 p-4 bg-gray-100 flex flex-col gap-2" do |form| %>
	
	<!--manca gestione "error_explanation"-->

	<%= tag.div class: "flex flex-wrap sm:flex-nowrap items-center gap-2" do %>
		<%= form.label :team, "#{maestra_o_maestre(adozione.team)}:", class: "min-w-24" %>
		<%= form.text_field :team, 
			class: "block shadow rounded-md border border-gray-200 outline-none px-2 py-1.5 w-full" %>
	<% end %>
		
    <%= tag.div class: "cb-tax w-full flex flex-wrap gap-2 items-center", data: { controller: "tax-combobox-select" } do %>   
        
        <%= form.label :classi_ids, "della classe:", class: "min-w-24" %>    
        <%= turbo_frame_tag :combo_classi do %>
            <%= render partial: "classi/combobox_classi", 
                locals: { scuola: adozione.scuola, classe_ids: [adozione.classe_id] } %>
        <% end %>
        
        <%= tag.span "della scuola:", class: "my-2 sm:m-0" %>			
		<%= tag.span adozione.nome_scuola, class: "font-bold my-2 sm:m-0" %>
    <% end %>

	<%= tag.div class: "flex flex-wrap items-center gap-2" do %>
        <%= tag.div class: "cb-tax" do %>
            <%= form.combobox :stato_adozione, 
                    current_user.adozioni.stato_adozione, 
                    name_when_new: "adozione[stato_adozione]", 
                    label: "che fanno?",
                    placeholder: "adozione o vendita?" %>
        <% end %>

        <%= tag.div class: "cb-tax" do %>
            <%= form.combobox :libro_id, current_user.libri.order(:titolo),
                    label: "il testo:",
                    placeholder: "seleziona il titolo o inseriscine uno nuovo...",
                    name_when_new: "adozione[new_libro]" %>
        <% end %>

        <%= tag.div class: "flex items-center space-x-2" do %>
            <%= form.label :numero_copie, "copie:" %>
            <%= form.number_field :numero_copie, class: "text-right block shadow rounded-md border border-gray-200 outline-none px-3 py-2 w-full" %>
        <% end %>
    <% end %>

    <%= tag.div class: "flex items-center justify-between items-center" do %>
        <%= tag.div class: "" do %>
            <%= form.text_area :note, rows: 3, class: "block shadow rounded-md border border-gray-200 outline-none px-3 py-2 mt-2 w-full sm:w-[42rem]" %>
        <% end %>
        <%= tag.div class: "" do %>
            <%= form.submit "salva", class: "bg-blue-600 rounded-lg py-1.5 px-2 text-white inline-block font-small cursor-pointer" %>
            <%= link_to "annulla", adozione, class: " bg-gray-600 rounded-lg py-1.5 px-2 text-white inline-block font-small cursor-pointer"%>
        <% end %>
    <% end %>
<% end %>
