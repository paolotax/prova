<div class="mx-auto md:w-2/3 w-full flex">
  <div class="mx-auto">


    <%= render @documento %>

    <%= link_to "Edit this documento", edit_documento_path(@documento), class: "mt-2 rounded-lg py-3 px-5 bg-gray-100 inline-block font-medium" %>
    <%= link_to "Back to documenti", documenti_path, class: "ml-2 rounded-lg py-3 px-5 bg-gray-100 inline-block font-medium" %>
    <div class="inline-block ml-2">
      <%= button_to "Destroy this documento", @documento, method: :delete, class: "mt-2 rounded-lg py-3 px-5 bg-gray-100 font-medium" %>
    </div>
  </div>
</div>
<div class="mx-auto md:w-2/3 w-full">

  <div class="sm:flex sm:items-center">
    
    <div class="sm:flex-auto">
      <h1 class="text-base font-semibold leading-6 text-gray-900">
          <%= @documento.clientable&.denominazione %></h1>
      <p class="mt-2 text-sm text-gray-700">
          <%= @documento.causale %> 
          <%= @documento.numero_documento %> 
          <%= @documento.data_documento %> 
      </p>
    </div>
    <div class="mt-4 sm:ml-16 sm:mt-0 sm:flex-none" >
      <%= link_to_previous_page("<- indietro") %>
    </div>  
  </div>

  <div class="mx-4 mt-8 flow-root sm:mx-0">
    <table class="min-w-full">
      <colgroup>
        <col class="w-full sm:w-1/2">
        <col class="sm:w-1/8">
        <col class="sm:w-1/8">
        <col class="sm:w-1/8">
        <col class="sm:w-1/6">
      </colgroup>
      
      <thead class="border-b border-gray-300 text-gray-900">
        <tr>
          <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0">Titolo</th>
          <th scope="col" class="hidden px-3 py-3.5 text-right text-sm font-semibold text-gray-900 sm:table-cell">Prezzo</th>
          <th scope="col" class="px-3 py-3.5 text-right text-sm font-semibold text-gray-900">Quantita</th>
          <th scope="col" class="hidden px-3 py-3.5 text-right text-sm font-semibold text-gray-900 sm:table-cell">Sconto</th>
          <th scope="col" class="py-3.5 pl-3 pr-4 text-right text-sm font-semibold text-gray-900 sm:pr-0">Importo</th>
        </tr>
      </thead>
      
      <tbody>

        <% @documento.righe.each do |riga| %> 
          <%=  render partial: "righe/riga", locals: { riga: riga } %>    
        <% end %>
      
      </tbody>
      
      <tfoot>
        <tr>
          <th scope="row" colspan="4" class="hidden pl-4 pr-3 pt-4 text-right text-sm font-normal text-gray-500 sm:table-cell sm:pl-0">Totale copie</th>
          <th scope="row" class="pl-4 pr-3 pt-4 text-left text-sm font-normal text-gray-500 sm:hidden">Totale copie</th>
          <td class="pl-3 pr-4 pt-4 text-right text-sm text-gray-500 sm:pr-0">
            <%= @documento.totale_cents %>
          </td>
        </tr>
        <tr>
          <th scope="row" colspan="4" class="hidden pl-4 pr-3 pt-4 text-right text-sm font-semibold text-gray-900 sm:table-cell sm:pl-0">Totale</th>
          <th scope="row" class="pl-4 pr-3 pt-4 text-left text-sm font-semibold text-gray-900 sm:hidden">Totale</th>
          <td class="pl-3 pr-4 pt-4 text-right text-sm font-semibold text-gray-900 sm:pr-0">
            <%= Money.from_cents(@documento.totale_cents, :eur).format(format: I18n.t(:format, scope: 'number.currency.format')) %>
          </td>
        </tr>
      </tfoot>
    </table>
  </div>
</div>

