<% content_for :title, "Causali" %>

<% content_for :header do %>
  <%= render Heading::WithActionsComponent.new do |heading| %>
    <% heading.with_action do %>
      <%= component 'tax_button',
            caption: "Nuova Causale",
            svg_file: "icon-plus.svg",
            color: "blue",
            url: new_causale_path %>
    <% end %>

    <%= h1 { "Causali" } %>
  <% end %>
<% end %>

<div class="mx-auto w-full px-4 sm:px-6 lg:px-8">

  <!-- Header tabella -->
  <div class="hidden md:grid grid-cols-12 gap-4 px-4 py-3 bg-gray-50 rounded-t-lg border-b border-gray-200 font-semibold text-sm text-gray-600 uppercase tracking-wider">
    <div class="col-span-2">Causale</div>
    <div class="col-span-1">Magazzino</div>
    <div class="col-span-2">Tipo Movimento</div>
    <div class="col-span-1">Movimento</div>
    <div class="col-span-1 text-center">Priorit√†</div>
    <div class="col-span-2">Stato Iniziale</div>
    <div class="col-span-2">Causali Successive</div>
    <div class="col-span-1 text-center">Azioni</div>
  </div>

  <!-- Lista causali -->
  <div id="causali" class="bg-white rounded-b-lg shadow-sm border border-gray-200">
    <% if @causali.any? %>
      <% @causali.each do |causale| %>
        <%= render causale %>
      <% end %>
    <% else %>
      <div class="px-4 py-8 text-center text-gray-500">
        Nessuna causale configurata. Crea la prima causale per iniziare.
      </div>
    <% end %>
  </div>
</div>
