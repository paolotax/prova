<%= turbo_frame_tag dom_id(@documento) do %>
        
    <%= tag.div class: "w-full mx-auto sm:max-w-2xl gap-4" do %>

        <%= render partial: "steps_controllers/common/steps_header", locals: { resource: @documento } %>   
        
        <%= form_with model: @documento, url: wizard_path, method: :put, data: { turbo_action: "advance" }, class: "px-2 py-5"  do |f| %>
            
            <%= tag.section id: "documento_righe", class: "col-span-4",  
                            data: { controller: "sortable", 
                                    sortable_animation_value: "150", 
                                    sortable_resource_name_value: "documento_riga" } do %>
                <%= render partial: "documento_righe/documento_riga", collection: @documento.documento_righe %>
            <% end %>

            <div class="px-4 flex items-start mb-8">
                <%= render TaxButtonComponent.new(
                            caption: "",
                            svg_file: "icon-plus.svg",
                            color: "blue",
                            url: url_for( controller: "/documento_righe", action: "new", model: @documento ),
                            data_attr: { turbo_stream: true }
                ) %>
            </div>

            <%= tag.div(class: "mt-10 w-full inline-flex gap-2 items-center justify-end mb-7") do %>
                <%= link_to "Indietro", previous_wizard_path, data: { turbo_action: "advance" }, class: "px-4 py-2 bg-gray-500 text-white"  %>
                <%= f.submit 'Avanti', name: "next", class: "px-4 py-2 bg-gray-500 text-white" %>
            <% end %>

        <% end %>

        <%= render partial: "steps_controllers/common/steps_footer", locals: { resource: @documento } %>  

    <% end %>

<% end %>