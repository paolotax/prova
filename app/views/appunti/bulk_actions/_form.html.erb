<%= tag.div hidden: true, class: "px-5 py-3 bg-indigo-500 rounded-xl border border-indigo-600 shadow-xl fixed top-4 z-30 left-1/2 -translate-x-1/2",
        data: {
            bulk_actions_target: "container",
            transition_enter: "transition ease-out duration-100",
            transition_enter_start: "opacity-0",
            transition_enter_end: "opacity-100",
            transition_leave: "transition ease-in duration-75",
            transition_leave_start: "opacity-100",
            transition_leave_end: "opacity-0"
        } do %>
    <%= tag.div class: "flex items-center gap-4 mb-4" do %>
        <%= button_tag "Stampa", 
                class: "px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-md",
                data: { action: "bulk-actions#stampa" } %>

        <%= button_tag "Tappa", 
                class: "px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-md",
                data: { action: "bulk-actions#toggleTappa" } %>

        <%= button_tag "Stato", 
                class: "px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-md",
                data: { action: "bulk-actions#toggleStato" } %>
    <% end %>

    <div class="forms-container">
        <%= form_with url: "/appunti/bulk_actions/print_all.pdf", 
                method: :patch, 
                class: "hidden transition-all duration-300 ease-out origin-top",
                data: { 
                    bulk_actions_target: "stampaForm form",
                    transition_enter: "transform transition ease-out duration-300",
                    transition_enter_start: "transform -translate-y-4 opacity-0",
                    transition_enter_end: "transform translate-y-0 opacity-100",
                    transition_leave: "transform transition ease-in duration-200",
                    transition_leave_start: "transform translate-y-0 opacity-100",
                    transition_leave_end: "transform -translate-y-4 opacity-0"
                } do |form| %>
            <%= form.submit "Conferma Stampa", class: "px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-md" %>
        <% end %>

        <div class="hidden flex-col space-y-2 transition-all duration-300 ease-out origin-top"
                data-bulk-actions-target="tappaForm"
                data-transition-enter="transform transition ease-out duration-300"
                data-transition-enter-start="transform -translate-y-4 opacity-0"
                data-transition-enter-end="transform translate-y-0 opacity-100"
                data-transition-leave="transform transition ease-in duration-200"
                data-transition-leave-start="transform translate-y-0 opacity-100"
                data-transition-leave-end="transform -translate-y-4 opacity-0">
            <%= form_with url: add_tappa_giorno_appunti_bulk_actions_path, 
                    method: :patch,
                    data: { bulk_actions_target: "form" } do |form| %>
                <%= form.hidden_field :data_tappa, value: Date.today %>
                <%= form.submit "Oggi", class: "w-full px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md" %>
            <% end %>

            <%= form_with url: add_tappa_giorno_appunti_bulk_actions_path, 
                    method: :patch,
                    data: { bulk_actions_target: "form" } do |form| %>
                <%= form.hidden_field :data_tappa, value: Date.tomorrow %>
                <%= form.submit "Domani", class: "w-full px-4 py-2 text-sm font-medium text-white bg-yellow-400 hover:bg-yellow-500 rounded-md" %>
            <% end %>

            <%= form_with url: add_tappa_giorno_appunti_bulk_actions_path, 
                    method: :patch,
                    data: { bulk_actions_target: "form" } do |form| %>
                <div class="flex justify-between gap-2">
                    <%= form.date_field :data_tappa, class: "rounded-md border-0 py-1.5 px-3 text-gray-900" %>
                    <%= form.submit "Tappa", class: "px-4 py-2 text-sm font-medium text-white bg-pink-600 hover:bg-pink-700 rounded-md" %>
                </div>
            <% end %>
        </div>

        <%= form_with url: segna_come_appunti_bulk_actions_path, 
                method: :patch, 
                class: "hidden transition-all duration-300 ease-out origin-top",
                data: { 
                    bulk_actions_target: "statoForm form",
                    transition_enter: "transform transition ease-out duration-300",
                    transition_enter_start: "transform -translate-y-4 opacity-0",
                    transition_enter_end: "transform translate-y-0 opacity-100",
                    transition_leave: "transform transition ease-in duration-200",
                    transition_leave_start: "transform translate-y-0 opacity-100",
                    transition_leave_end: "transform -translate-y-4 opacity-0"
                } do |form| %>
            <div class="flex gap-2">
                <%= form.select :stato, 
                        Appunto::STATO_APPUNTI, 
                        {}, 
                        class: "rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900" %>
                <%= form.submit "Conferma", class: "px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-md" %>
            </div>
        <% end %>
    </div>

    <%= link_to "", data: { action: "bulk-actions#deselectAll" }, class: "absolute -top-2 -right-2 p-2 rounded-full bg-gray-800 hover:bg-gray-700" do %>
        <svg class="w-4 h-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
    <% end %>
<% end %>