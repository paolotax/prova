<%= form_with(url: @url, method: :get, class: "my-4 px-8 py-6 inline-flex gap-6  bg-white rounded-lg border") do |form| %>
    <%= tag.div(class: "flex flex-col gap-2") do %>


        <% @fields.each do |field| %>
            <%= tag.fieldset class: "relative" do %>
                <% if field[:type] == :text %>
			        <%#= form.label field[:field], field[:label].to_s.capitalize %>
                    <%= form.text_field field[:field], value: filter_params[field[:field]],
                        class: "peer block w-full border-0 bg-gray-50 py-1.5 text-gray-900 focus:ring-0 sm:text-sm sm:leading-6",
                        placeholder: field[:placeholder] %>
                    <%= tag.div class: "absolute inset-x-0 bottom-0 border-t border-gray-300 peer-focus:border-t-2 peer-focus:border-indigo-600", aria: { hidden: "true" } %>
                
                <% elsif field[:type] == :select %>
                    <%#= form.label field[:field], field[:label].to_s.capitalize %>
                    <%= form.select field[:field], options_for_select(field[:collection], filter_params[field[:field]]), { include_blank: field[:placeholder] }, { class: "peer block w-full border-0 bg-gray-50 py-1.5 text-gray-900 focus:ring-0 sm:text-sm sm:leading-6" } %>
                    <%= tag.div class: "absolute inset-x-0 bottom-0 border-t border-gray-300 peer-focus:border-t-2 peer-focus:border-indigo-600", aria: { hidden: "true" } %>                           
                <% end %>
            <% end %>
        <% end %>


        <%= tag.div class: "flex flex-row-reverse justify-between items-center" do %>
            <%= form.submit "Filtra" %>

            <%=  link_to "reset", @url, class: "text-xs font-semibold text-red-500" %>
        <% end %>
        
    <% end %>
<% end %>