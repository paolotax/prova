import{isString as e,isElement as r,CROPPER_IMAGE as o,CROPPER_CANVAS as t,CROPPER_SELECTION as n}from"@cropper/utils";export*from"@cropper/utils";import{CropperCanvas as p,CropperCrosshair as c,CropperGrid as a,CropperHandle as i,CropperImage as l,CropperSelection as s,CropperShade as d,CropperViewer as h}from"@cropper/elements";export*from"@cropper/elements";var m='<cropper-canvas background><cropper-image></cropper-image><cropper-shade hidden></cropper-shade><cropper-handle action="select" plain></cropper-handle><cropper-selection initial-coverage="0.5" movable resizable zoomable><cropper-grid role="grid" bordered covered></cropper-grid><cropper-crosshair centered></cropper-crosshair><cropper-handle action="move" theme-color="rgba(255, 255, 255, 0.35)"></cropper-handle><cropper-handle action="n-resize"></cropper-handle><cropper-handle action="e-resize"></cropper-handle><cropper-handle action="s-resize"></cropper-handle><cropper-handle action="w-resize"></cropper-handle><cropper-handle action="ne-resize"></cropper-handle><cropper-handle action="nw-resize"></cropper-handle><cropper-handle action="se-resize"></cropper-handle><cropper-handle action="sw-resize"></cropper-handle></cropper-selection></cropper-canvas>';const u=/^img|canvas$/;const g=/<(\/?(?:script|style)[^>]*)>/gi;const f={template:m};p.$define();c.$define();a.$define();i.$define();l.$define();s.$define();d.$define();h.$define();class Cropper{constructor(t,n){this.options=f;e(t)&&(t=document.querySelector(t));if(!r(t)||!u.test(t.localName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t;n=Object.assign(Object.assign({},f),n);this.options=n;const{ownerDocument:p}=t;let{container:c}=n;if(c){e(c)&&(c=p.querySelector(c));if(!r(c))throw new Error("The `container` option must be an element or a valid selector.")}r(c)||(c=t.parentElement?t.parentElement:p.body);this.container=c;const a=t.localName;let i="";"img"===a?({src:i}=t):"canvas"===a&&window.HTMLCanvasElement&&(i=t.toDataURL());const{template:l}=n;if(l&&e(l)){const e=document.createElement("template");const r=document.createDocumentFragment();e.innerHTML=l.replace(g,"&lt;$1&gt;");r.appendChild(e.content);Array.from(r.querySelectorAll(o)).forEach((e=>{e.setAttribute("src",i);e.setAttribute("alt",t.alt||"The image to crop")}));if(t.parentElement){t.style.display="none";c.insertBefore(r,t.nextSibling)}else c.appendChild(r)}}getCropperCanvas(){return this.container.querySelector(t)}getCropperImage(){return this.container.querySelector(o)}getCropperSelection(){return this.container.querySelector(n)}getCropperSelections(){return this.container.querySelectorAll(n)}}Cropper.version="2.0.0-beta.4";export{Cropper as default};

